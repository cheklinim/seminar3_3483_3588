# **Инструкция по работе с системой контроля версий Git**

![Эмблема Git](git.jpg)

Git (произносится «гит») — распределённая система управления версиями. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года. На сегодняшний день его поддерживает Джунио Хамано.

## Инициализация репозитория

Чтобы создать (инициализировать) новый репозиторий нужно в терминале ввести команду:

    git init

Репозиторий будет создан в той папке, из которой вызывалась команда

## Проверка состояния репозитория

Чтобы проверить текущее состояние репозитория нужно ввести в терминале команду:

    git status

## Добавление изменения к отслеживанию версионности

Чтобы добавить сделанное изменение к отслеживанию (поместить в индекс) нужно ввести команду:

    git add <имя файла>

где вместо <имя файла> вводится путь к файлу относительно расположения репозитория.

## Фиксация изменений

Чтобы зафиксировать изменение используется команда:

    git commit

В таком случае откроется окно для ввоба краткого описания сделанных изменений.

Чтобы сделать это одновременно с фиксацией используется команда:

    git commit -m "комментарий"

## Просмотр истории изменений

Чтобы посмотреть историю изменений используется комада

    git log

Для просмотра изменений с выводом одного коммита в одну строку используется команда

    git log --oneline

Для просмотра всех имеющихся коммитов используется команда

    git log --all

Для просмотра лога с графическим изображением веток используется команда

    git log --graph

Все указанные флаги могут использоваться вместе:

    git log --all --oneline --graph

## Просмотр различий между изменениями

Для просмотра отличий между текущим состоянием репозитория и последним сохраненным изменением используется команда

    git diff

Можно также посмотреть разницу между любыми двуми коммитами. Для этого используется команда

    git diff <хэш1> <хэш2>

## Переключение на нужное изменение

Чтобы переключиться на нужный коммит используется команда

    git checkout <хэш>

## Ветки в Git

### Создание новой ветки

Чтобы создать новую ветку используется команда

    git branch <имя_ветки>

### Просмотр всех веток

Чтобы посмотреть какие ветки существуют и на какой мы находимся используется команда

    git branch

### Переключение между ветками

Чтобы переключиться на другую ветку используется команда

    git checkout <имя_ветки>

### Слияние веток

Чтобы влить одну ветку в другую необходимо находясь в целевой ветке (КУДА будем делать слияние) выполнить команду

    git merge <имя_вливаемой_ветки>

### Конфликты при слиянии

Если одна и та же строка в разный версиях записана по разному возникнет конфликт.
Чистый гит автоматически сохраняет оба изменения, далее требуется вручную внести нужные правки и сделать коммит.

VSСode дает возможность выбрать какое изменение сохранить (входящее, существующее или оба).

### Удаление ветки

Чтобы удалить ветку, которая больше не нужно (например после слияния) используется команда

    git branch -d <имя_ветки>

# **GITHUB**
_________
Сайт GitHub является крупнейшим на сегодняшний день хостингом для Git репозиториев и центральным местом сотрудничества миллионов разработчиков
и проектов. Mногие проекты с открытым исходным кодом используют его для хостинга Git, отслеживания ошибок, рецензирования кода и других вещей.

## Использование Github

Первым делом нужно создать учетную запись. Для этого перейдите на страницу https://github.com, выберите свободное имя пользователя, укажите свой
адрес электронной почты и пароль.

## Создание удаленного репозитория

* В аккаунте на Github нажать

        Create repository

    далее на странице быстрого запуска написано что делать если у вас новый репозиторий гита и что делать если у вас уже готовый проект, который вы хотите залить.

    в терминале вводим 


        git remote add origin <ссылка на репозиторий>

    Это добавляет новый удаленный сервер гитхаба в список серверов куда мы можем отправлять изменения. Origin это название сервера. Обычно оно стандартное хотя вы можете выбрать любое имя.

* посмотреть добавление репозитория можно командой

        git remote -v


* отправить изменения в удаленный репозиторий


        git push -u origin master

_Теперь если мы обновим окно репозитория в браузере, то мы увидим наш репозиторий на гитхабе.
Мы видим список файлов и название последнего коммита который менял этот файл. Мы можем кликнуть на файл и посмотреть его содержимое. Мы можем нажать history и увидеть коммиты, которые меняли этот файл. Нажав на любой из коммитов мы видим изменения, которые были сделаны._

* эта команда подтягивает и сливает в проект новые изменения если они есть из удаленного репозитория

        git pull



## Ветвления проектов

Для участия в чужом проекте, где у вас нет права на запись, нужно создать **ветку (fork)** этого проекта.

    Для ветвления проекта зайдите на его страницу и щелкнитена кнопке Fork в ее верхнем правом углу.
    Через несколько секунд вы попадете на новую страницу проекта с доступной для редактирования копией кода. 

То есть GitHub генерирует отдельную копию проекта,
находящуюся в вашем  аккаунте, и предоставляет вам доступ на запись туда.


## Схема совместной работы с GitHub

Сайт GitHub спроектирован под определенную схему работы, сконцентрированную вокруг запросов на включение. Эта схема организована по принципу тематических веток.

### Вот как это работает в общем случае:

1. Скопировать проект себе на компьютер из Github.

2. На основе ветки master создается тематическая ветка. Делается ряд коммитов с целью внести улучшения в проект.

3. Ветвь отсылается в ваш GitHub-проект.

4. На сайте GitHub открывается запрос на включение.

5. Предложенное изменение обсуждается и, возможно, подвергается редактированию.

6. Владелец проекта выполняет слияние или закрывает запрос на включение.
_______________________________________


### Пример работы в Github

* Создать Fork проекта на Github

* Создание копии проекта (адрес репозитория взять из своего fork)

        git clone <адрес_репозитория>

* Для того, чтобы создать новую ветку вводим:

        git branch <название_ветки>

    или вот так

        git checkout -b <название_ветки>

* После того, как вы завершили работу над своей задачей, ветку можно слить в master . Для этого нужно переключиться в ветку master и выполнить следующую команду:


        git checkout master

* Обновляем локальную ветку с сервера (чтобы подтянуть последние изменения проекта, которые могли внести параллельно с вами)

        git pull origin master


* Делаем merge вашей ветки, в ветку в которой вы находитесь (В данном примере это master)

        git merge <название_ветки>

* Другие пользователи не увидят вашу ветку, пока она не будет отправлена на удаленный репозиторий. Поэтому, после того как вы слили все изменения в master , нужно отправить их в GitHub. Для этого обязательно нужно находиться в ветке master :

        git checkout master

* Отправляем наши изменения в GitHub

        git push - u origin master

* Вернувшись к нашей ветке на сайте GitHub, мы увидим, что система получила нашу тематическую ветку и предоставила большую зеленую кнопку для перехода к нашим изменениям и открытия запроса на включение в исходный проект

         Кнопка Pull Request

* Щелчок на этой зеленой кнопке откроет экран, где изменению, для которого мы собираемся создать запрос на включение, можно присвоить заголовок и снабдить
его описанием, чтобы у владельца проекта появился стимул с ним ознакомиться. _Как правило, имеет смысл приложить усилия и сделать  описание как можно более
содержательным, чтобы сразу можно было понять, зачем предлагается данное изменение и почему его желательно принять._


* После щелчка на кнопке 

        Create Pull Request 

    владелец проекта, для которого вы создали ответвление, получит уведомление о предлагаемом изменении и ссылку на страницу с полной информацией о нем.

* Теперь владелец проекта может ознакомиться с предложенным изменением и выполнить его слияние, отвергнуть его или оставить к нему комментарий.

    __________




